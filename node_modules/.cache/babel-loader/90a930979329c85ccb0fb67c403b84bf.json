{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Anonymous/Desktop/Work/WebDevOp/Bckup/Libros---Final--main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"C:/Users/Anonymous/Desktop/Work/WebDevOp/Bckup/Libros---Final--main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/Anonymous/Desktop/Work/WebDevOp/Bckup/Libros---Final--main/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/Users/Anonymous/Desktop/Work/WebDevOp/Bckup/Libros---Final--main/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/Anonymous/Desktop/Work/WebDevOp/Bckup/Libros---Final--main/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\Anonymous\\\\Desktop\\\\Work\\\\WebDevOp\\\\Bckup\\\\Libros---Final--main\\\\src\\\\App.js\";\nimport _regeneratorRuntime from \"C:\\\\Users\\\\Anonymous\\\\Desktop\\\\Work\\\\WebDevOp\\\\Bckup\\\\Libros---Final--main\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\nimport React from 'react';\nimport { Route } from 'react-router-dom';\nimport * as BooksAPI from './BooksAPI';\nimport './App.css';\n/* \n  * ---------------------\n  * Import All Components\n  * ---------------------\n*/\n\nimport LibrosSearchPage from './components/LibrosSearchPage';\nimport LibrosMainPage from './components/LibrosMainPage'; //import LibrosBookShelf from './components/LibrosBooks';\n\n/*\n  *\n  * BooksApp is the main app.js component\n  * \n*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar BooksApp = /*#__PURE__*/function (_React$Component) {\n  _inherits(BooksApp, _React$Component);\n\n  var _super = _createSuper(BooksApp);\n\n  function BooksApp(props) {\n    var _this;\n\n    _classCallCheck(this, BooksApp);\n\n    _this = _super.call(this, props);\n\n    _this.updateLibrosBooksSearched = function (query) {\n      var LibrosSearchedShelf;\n\n      if (query) {\n        BooksAPI.search(query).then(function (books) {\n          if (books.error) {\n            _this.setState({\n              booksSearched: []\n            });\n          } else {\n            LibrosSearchedShelf = books.map(function (book) {\n              book.shelf = _this.librosSyncedShelf(book);\n              return book;\n            });\n\n            _this.setState({\n              booksSearched: LibrosSearchedShelf\n            });\n          }\n        });\n      } else {\n        _this.setState({\n          booksSearched: []\n        });\n      }\n    };\n\n    _this.updateLibrosShelf = function (book, shelf) {\n      BooksAPI.update(book, shelf).then(function () {\n        BooksAPI.getAll().then(function (books) {\n          _this.setState({\n            booksonDisplay: books\n          });\n        });\n      });\n    };\n\n    _this.librosSyncedShelf = function (book) {\n      var updatedMatchedShelf = _this.state.booksonDisplay.filter(function (bookonDisplay) {\n        return book.id === bookonDisplay.id;\n      });\n\n      return updatedMatchedShelf.length ? updatedMatchedShelf[0].shelf : undefined;\n    };\n\n    _this.state = {\n      /*\n      *                 --> List of Books -> ./App.js\n      * State Structure --> Query(Search) -> /components/LibrosSearchPage       \n      *                 --> List of Books Searched -> /components/LibrosSearchPage \n      */\n      //booksSearched:[] and BooksOnDisplay are added as Array's  to the state {}\n      booksSearched: [],\n      booksonDisplay: []\n    };\n    return _this;\n  } //get all books using an async function with await response to display books\n\n\n  _createClass(BooksApp, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var books;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return BooksAPI.getAll();\n\n              case 2:\n                books = _context.sent;\n                this.setState({\n                  booksonDisplay: books\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n    /*\n    *         \n    * updateLibrosBooksSearched is an arrow function which handles Errors\n    * If there is an error in booksSearched\n    * Display Empty array booksSearched instead \n    * Of Giving TypeError\n    */\n\n  }, {\n    key: \"render\",\n    value:\n    /*\n      * Rendering Components <SearchPage/>\n      * With exact path added to <Route> \n      * to let user Book mark URL \n    */\n    //exact path added here to make sure its directing to the exact directories\n    function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          booksonDisplay = _this$state.booksonDisplay,\n          booksSearched = _this$state.booksSearched; //console.log(this.state.books);\n\n      /*\n      * Route Structure Hiearchy\n      * <App/>\n      *   <LibrosMainPage/>\n      *       <SearchPage/>\n      *         \n      * \n      */\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app\",\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          render: function render() {\n            return /*#__PURE__*/_jsxDEV(LibrosMainPage, {\n              books: booksonDisplay,\n              updateLibrosShelf: _this2.updateLibrosShelf\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 11\n            }, _this2);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/search\",\n          render: function render() {\n            return /*#__PURE__*/_jsxDEV(LibrosSearchPage, {\n              books: booksSearched,\n              updateLibrosBooksSearched: _this2.updateLibrosBooksSearched,\n              updateLibrosShelf: _this2.updateLibrosShelf\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 11\n            }, _this2);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return BooksApp;\n}(React.Component);\n\nexport default BooksApp;","map":{"version":3,"sources":["C:/Users/Anonymous/Desktop/Work/WebDevOp/Bckup/Libros---Final--main/src/App.js"],"names":["React","Route","BooksAPI","LibrosSearchPage","LibrosMainPage","BooksApp","props","updateLibrosBooksSearched","query","LibrosSearchedShelf","search","then","books","error","setState","booksSearched","map","book","shelf","librosSyncedShelf","updateLibrosShelf","update","getAll","booksonDisplay","updatedMatchedShelf","state","filter","bookonDisplay","id","length","undefined","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,OAAO,KAAKC,QAAZ,MAA0B,YAA1B;AACA,OAAO,WAAP;AAGA;AACA;AACA;AACA;AACA;;AAGA,OAAOC,gBAAP,MAA6B,+BAA7B;AACA,OAAOC,cAAP,MAA2B,6BAA3B,C,CACA;;AAGA;AACA;AACA;AACA;AACA;;;;IAGMC,Q;;;;;AACJ,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,UAmCnBC,yBAnCmB,GAmCS,UAACC,KAAD,EAAW;AACrC,UAAIC,mBAAJ;;AACA,UAAID,KAAJ,EAAW;AACTN,QAAAA,QAAQ,CAACQ,MAAT,CAAgBF,KAAhB,EAAuBG,IAAvB,CAA4B,UAAAC,KAAK,EAAI;AACnC,cAAIA,KAAK,CAACC,KAAV,EAAiB;AACf,kBAAKC,QAAL,CAAc;AAAEC,cAAAA,aAAa,EAAE;AAAjB,aAAd;AACD,WAFD,MAEO;AACLN,YAAAA,mBAAmB,GAAGG,KAAK,CAACI,GAAN,CAAU,UAAAC,IAAI,EAAI;AACtCA,cAAAA,IAAI,CAACC,KAAL,GAAa,MAAKC,iBAAL,CAAuBF,IAAvB,CAAb;AACA,qBAAOA,IAAP;AACD,aAHqB,CAAtB;;AAIA,kBAAKH,QAAL,CAAc;AAAEC,cAAAA,aAAa,EAAEN;AAAjB,aAAd;AACD;AACF,SAVD;AAWD,OAZD,MAYO;AACL,cAAKK,QAAL,CAAc;AAAEC,UAAAA,aAAa,EAAE;AAAjB,SAAd;AACD;AACF,KApDkB;;AAAA,UA+DnBK,iBA/DmB,GA+DC,UAACH,IAAD,EAAOC,KAAP,EAAiB;AAEnChB,MAAAA,QAAQ,CAACmB,MAAT,CAAgBJ,IAAhB,EAAsBC,KAAtB,EAA6BP,IAA7B,CAAkC,YAAM;AACtCT,QAAAA,QAAQ,CAACoB,MAAT,GAAkBX,IAAlB,CAAuB,UAACC,KAAD,EAAW;AAChC,gBAAKE,QAAL,CAAc;AAAES,YAAAA,cAAc,EAAEX;AAAlB,WAAd;AACD,SAFD;AAGD,OAJD;AAKD,KAtEkB;;AAAA,UAiFnBO,iBAjFmB,GAiFC,UAACF,IAAD,EAAU;AAC5B,UAAIO,mBAAmB,GAAG,MAAKC,KAAL,CAAWF,cAAX,CAA0BG,MAA1B,CAAiC,UAAAC,aAAa;AAAA,eACtEV,IAAI,CAACW,EAAL,KAAYD,aAAa,CAACC,EAD4C;AAAA,OAA9C,CAA1B;;AAGA,aAAOJ,mBAAmB,CAACK,MAApB,GAA6BL,mBAAmB,CAAC,CAAD,CAAnB,CAAuBN,KAApD,GAA4DY,SAAnE;AACD,KAtFkB;;AAEjB,UAAKL,KAAL,GAAa;AACX;AACN;AACA;AACA;AACA;AACM;AAEAV,MAAAA,aAAa,EAAE,EARJ;AASXQ,MAAAA,cAAc,EAAE;AATL,KAAb;AAFiB;AAalB,G,CAID;;;;;;wFAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACsBrB,QAAQ,CAACoB,MAAT,EADtB;;AAAA;AACQV,gBAAAA,KADR;AAEE,qBAAKE,QAAL,CAAc;AAAES,kBAAAA,cAAc,EAAEX;AAAlB,iBAAd;;AAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;AAOA;AACF;AACA;AACA;AACA;AACA;AACA;;;;;AAyDE;AACF;AACA;AACA;AACA;AAGE;AAGA,sBAAS;AAAA;;AACP,wBAA0C,KAAKa,KAA/C;AAAA,UAAQF,cAAR,eAAQA,cAAR;AAAA,UAAwBR,aAAxB,eAAwBA,aAAxB,CADO,CAEP;;AACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AACI,0BACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,gCACE,QAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,IAAI,EAAC,GAAlB;AAAsB,UAAA,MAAM,EAAE;AAAA,gCAC5B,QAAC,cAAD;AACE,cAAA,KAAK,EAAEQ,cADT;AAEE,cAAA,iBAAiB,EAAE,MAAI,CAACH;AAF1B;AAAA;AAAA;AAAA;AAAA,sBAD4B;AAAA;AAA9B;AAAA;AAAA;AAAA;AAAA,gBADF,eAWE,QAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,IAAI,EAAC,SAAlB;AAA4B,UAAA,MAAM,EAAE;AAAA,gCAClC,QAAC,gBAAD;AACE,cAAA,KAAK,EAAEL,aADT;AAEE,cAAA,yBAAyB,EAAE,MAAI,CAACR,yBAFlC;AAGE,cAAA,iBAAiB,EAAE,MAAI,CAACa;AAH1B;AAAA;AAAA;AAAA;AAAA,sBADkC;AAAA;AAApC;AAAA;AAAA;AAAA;AAAA,gBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAsBD;;;;EArIoBpB,KAAK,CAAC+B,S;;AAyI7B,eAAe1B,QAAf","sourcesContent":["import React from 'react';\nimport { Route } from 'react-router-dom';\nimport * as BooksAPI from './BooksAPI';\nimport './App.css';\n\n\n/* \n  * ---------------------\n  * Import All Components\n  * ---------------------\n*/\n\n\nimport LibrosSearchPage from './components/LibrosSearchPage';\nimport LibrosMainPage from './components/LibrosMainPage';\n//import LibrosBookShelf from './components/LibrosBooks';\n\n\n/*\n  *\n  * BooksApp is the main app.js component\n  * \n*/\n\n\nclass BooksApp extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      /*\n      *                 --> List of Books -> ./App.js\n      * State Structure --> Query(Search) -> /components/LibrosSearchPage       \n      *                 --> List of Books Searched -> /components/LibrosSearchPage \n      */\n      //booksSearched:[] and BooksOnDisplay are added as Array's  to the state {}\n\n      booksSearched: [],\n      booksonDisplay: [],\n    }\n  }\n\n\n\n  //get all books using an async function with await response to display books\n\n  async componentDidMount() {\n    const books = await BooksAPI.getAll()\n    this.setState({ booksonDisplay: books })\n  }\n\n\n\n  /*\n  *         \n  * updateLibrosBooksSearched is an arrow function which handles Errors\n  * If there is an error in booksSearched\n  * Display Empty array booksSearched instead \n  * Of Giving TypeError\n  */\n\n\n  updateLibrosBooksSearched = (query) => {\n    let LibrosSearchedShelf\n    if (query) {\n      BooksAPI.search(query).then(books => {\n        if (books.error) {\n          this.setState({ booksSearched: [] })\n        } else {\n          LibrosSearchedShelf = books.map(book => {\n            book.shelf = this.librosSyncedShelf(book);\n            return book;\n          })\n          this.setState({ booksSearched: LibrosSearchedShelf })\n        }\n      })\n    } else {\n      this.setState({ booksSearched: [] })\n    }\n  }\n\n\n  /*  \n       *\n       *  updateLibrosShelf is used to Update State and passed through the LibrosMainPage\n       *  then through LibrosBookShelf.js\n       * \n   */\n\n\n  updateLibrosShelf = (book, shelf) => {\n\n    BooksAPI.update(book, shelf).then(() => {\n      BooksAPI.getAll().then((books) => {\n        this.setState({ booksonDisplay: books })\n      })\n    })\n  }\n\n\n  /*  \n       *\n       *  librosSyncedShelf is used to filter and compare bookonDisplay with book.id\n       *  then through LibrosBookShelf.js\n       * \n   */\n\n\n  librosSyncedShelf = (book) => {\n    let updatedMatchedShelf = this.state.booksonDisplay.filter(bookonDisplay =>\n      book.id === bookonDisplay.id\n    )\n    return updatedMatchedShelf.length ? updatedMatchedShelf[0].shelf : undefined\n  }\n\n\n  /*\n    * Rendering Components <SearchPage/>\n    * With exact path added to <Route> \n    * to let user Book mark URL \n  */\n\n\n  //exact path added here to make sure its directing to the exact directories\n\n\n  render() {\n    const { booksonDisplay, booksSearched } = this.state;\n    //console.log(this.state.books);\n    /*\n    * Route Structure Hiearchy\n    * <App/>\n    *   <LibrosMainPage/>\n    *       <SearchPage/>\n    *         \n    * \n    */\n    return (\n      <div className=\"app\">\n        <Route exact path=\"/\" render={() => (\n          <LibrosMainPage\n            books={booksonDisplay}\n            updateLibrosShelf={this.updateLibrosShelf}\n          />\n        )}>\n        </Route>\n        {/*\n        Passed booksSearched here and is updated aswell \n        */}\n        <Route exact path=\"/search\" render={() => (\n          <LibrosSearchPage\n            books={booksSearched}\n            updateLibrosBooksSearched={this.updateLibrosBooksSearched}\n            updateLibrosShelf={this.updateLibrosShelf}\n          />\n        )}>\n        </Route>\n      </div>\n    );\n  }\n}\n\n\nexport default BooksApp;\n\n\n"]},"metadata":{},"sourceType":"module"}